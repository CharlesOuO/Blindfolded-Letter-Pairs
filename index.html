<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›²è§£å…¨èƒ½ç·´ç¿’ (é‡ç½®é¡è‰²ç‰ˆ)</title>
    <style>
        :root {
            --primary-color: #2196f3;
            --primary-hover: #1976d2;
            --bg-color: #f8f9fa;
            --text-color: #333;
            --border-color: #e0e0e0;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.02);
            /* ç‹€æ…‹é¡è‰² */
            --status-green: #e8f5e9;
            --status-green-border: #4caf50;
            --status-yellow: #fff3e0;
            --status-yellow-border: #ff9800;
            --status-red: #ffebee;
            --status-red-border: #f44336;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- å°èˆªåˆ— --- */
        .nav-bar {
            background: white; width: 100%; border-bottom: 1px solid var(--border-color);
            position: sticky; top: 0; z-index: 100; display: flex; justify-content: center;
        }
        .nav-container { display: flex; gap: 10px; padding: 0 10px; overflow-x: auto; }
        .nav-btn {
            padding: 15px 10px; font-size: 0.95rem; border: none; background: transparent;
            color: #666; cursor: pointer; position: relative; font-weight: 500; white-space: nowrap;
        }
        .nav-btn.active { color: var(--primary-color); }
        .nav-btn.active::after {
            content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 3px;
            background-color: var(--primary-color);
        }

        .container {
            max-width: 600px; width: 95%; margin-top: 30px; padding-bottom: 50px;
            animation: fadeInPage 0.4s ease;
        }

        /* --- é€šç”¨å…ƒä»¶ --- */
        button { cursor: pointer; font-family: inherit; outline: none; }
        .action-btn {
            padding: 8px 15px; border-radius: 6px; border: 1px solid #ccc; background: white; margin: 5px;
            transition: all 0.2s;
        }
        .action-btn:hover { background: #f0f7ff; border-color: var(--primary-color); color: var(--primary-color); }
        
        .btn-primary {
            background: linear-gradient(135deg, #2196f3, #1976d2); color: white; border: none;
            padding: 12px 35px; font-size: 1.1rem; border-radius: 50px;
            box-shadow: 0 4px 10px rgba(33, 150, 243, 0.3); transition: transform 0.1s;
        }
        .btn-primary:active { transform: scale(0.96); }
        .btn-danger { color: #d32f2f; border-color: #ffcdd2; }

        .control-panel {
            background: white; padding: 20px; border-radius: 12px;
            box-shadow: var(--card-shadow); margin-bottom: 20px; text-align: center;
        }

        select { padding: 10px; font-size: 1rem; width: 100%; max-width: 250px; border-radius: 6px; border: 1px solid #ddd; }

        /* --- åˆ—è¡¨æ¨£å¼ --- */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 12px; }
        .pair-item {
            background: white; padding: 12px; border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02); display: flex; flex-direction: column;
        }
        .pair-label { font-size: 1rem; color: #666; margin-bottom: 5px; text-align: center; }
        .pair-input {
            padding: 6px; font-size: 1rem; border: 1px solid #eee; border-radius: 4px;
            text-align: center; width: 90%; align-self: center; background: #fafafa;
        }
        .pair-input:focus { border-color: var(--primary-color); background: white; outline: none; }

        /* é¡è‰²æ¨™è¨˜ */
        .status-green { background-color: var(--status-green) !important; border-color: var(--status-green-border) !important; }
        .status-yellow { background-color: var(--status-yellow) !important; border-color: var(--status-yellow-border) !important; }
        .status-red { background-color: var(--status-red) !important; border-color: var(--status-red-border) !important; }

        /* --- å¡ç‰‡å€åŸŸ --- */
        .card-area {
            background: white; border: 1px solid #e0e0e0; border-radius: 12px;
            padding: 40px 20px; margin: 20px 0; text-align: center; min-height: 220px;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            position: relative; transition: all 0.3s;
        }
        .card-area:hover { border-color: var(--primary-color); transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,0.05); }

        .question { font-size: 5rem; font-weight: 300; color: #333; margin-bottom: 15px; }
        
        /* è¨˜æ†¶ç¿»ç‰Œå°ˆç”¨ */
        .answer-text { font-size: 2.2rem; color: #d32f2f; margin-top: 20px; font-weight: 500; display: none; }
        .answer-text.show { display: block; animation: fadeInUp 0.3s forwards; }
        .hint-text { color: #aaa; margin-top: 30px; font-size: 0.85rem; }

        /* æ‰“å­—æ¸¬é©—å°ˆç”¨ */
        .timer-display {
            font-family: monospace; font-size: 1.5rem; color: #666; 
            background: #f0f0f0; padding: 8px 20px; border-radius: 30px;
            margin-bottom: 15px; border: 2px solid transparent;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .test-input {
            width: 80%; max-width: 280px; padding: 12px; font-size: 1.2rem;
            text-align: center; border: 2px solid #ddd; border-radius: 8px; outline: none;
        }
        .test-input:focus { border-color: var(--primary-color); }
        
        .feedback-area { margin-top: 20px; font-size: 1.1rem; font-weight: bold; min-height: 25px; }
        
        /* çµæœæ–‡å­—æ¨£å¼ */
        .text-success { color: #2e7d32; }
        .text-warning { color: #f57c00; }
        .text-danger { color: #c62828; }

        .correct-answer-display {
            margin-top: 10px;
            font-size: 1.1rem;
            font-weight: 500;
            padding: 5px 15px;
            border-radius: 4px;
            display: inline-block;
            min-height: 1.5em;
        }

        .view-section { display: none; }
        .view-section.active { display: block; }

        @keyframes fadeInPage { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body onload="init()">

    <div class="nav-bar">
        <div class="nav-container">
            <button class="nav-btn active" onclick="switchTab('list')">åˆ—è¡¨è¼¸å…¥</button>
            <button class="nav-btn" onclick="switchTab('memory')">è¨˜æ†¶ç¿»ç‰Œ</button>
            <button class="nav-btn" onclick="switchTab('test')">æ‰“å­—æ¸¬é©—</button>
            <button class="nav-btn" onclick="switchTab('data')">è³‡æ–™å‚™ä»½</button>
        </div>
    </div>

    <div class="container">
        
        <div id="view-list" class="view-section active">
            <div class="control-panel">
                <label>é–‹é ­æ³¨éŸ³ï¼š</label>
                <select id="char-select" onchange="renderList()"></select>
                <p style="font-size:0.85rem; color:#888; margin-top:10px;">
                    é¡è‰²ä¾†è‡ªã€Œæ‰“å­—æ¸¬é©—ã€çµæœï¼š<br>
                    <span style="color:#4caf50">â–  <8s</span> &nbsp;
                    <span style="color:#ff9800">â–  8-12s</span> &nbsp;
                    <span style="color:#f44336">â–  >12s/éŒ¯èª¤/ç©ºç™½</span>
                </p>
                
                <div style="margin-top:20px; padding-top:15px; border-top:1px solid #eee;">
                    <button class="action-btn" onclick="resetAllColors()" style="color:#666; border-color:#999;">
                        ğŸ”„ é‡ç½®æ‰€æœ‰é¡è‰² (ä¿ç•™æ–‡å­—)
                    </button>
                </div>
            </div>
            <div id="grid-area" class="grid-container"></div>
        </div>

        <div id="view-memory" class="view-section">
            <div class="control-panel">
                <label>ç¯„åœï¼š</label>
                <select id="memory-range" onchange="nextMemoryCard()" style="max-width:200px;">
                    <option value="all">å…¨ç¯„åœéš¨æ©Ÿ</option>
                </select>
            </div>
            <div class="card-area" onclick="toggleMemoryAnswer()">
                <div class="question" id="mem-q">?</div>
                <div class="answer-text" id="mem-a">...</div>
                <div class="hint-text" id="mem-hint">é»æ“Šå¡ç‰‡ç¿»ç‰Œ</div>
            </div>
            <div style="text-align:center;">
                <button class="btn-primary" onclick="nextMemoryCard()">ä¸‹ä¸€é¡Œ (Space/Enter)</button>
            </div>
        </div>

        <div id="view-test" class="view-section">
            <div class="control-panel">
                <label>æ¸¬é©—ç¯„åœï¼š</label>
                <select id="test-range" onchange="resetTest()" style="max-width:200px;">
                    <option value="all">å…¨ç¯„åœéš¨æ©Ÿ</option>
                </select>
            </div>

            <div class="card-area">
                <div id="timer" class="timer-display">0.0s</div>
                
                <div class="question" id="test-q">?</div>
                <input type="text" id="test-input" class="test-input" placeholder="è¼¸å…¥å¾ŒæŒ‰ Enter" autocomplete="off">
                
                <div class="feedback-area" id="test-feedback"></div>
                <div class="correct-answer-display" id="test-correct-msg"></div>
            </div>

            <div style="text-align:center;">
                <button id="test-btn" class="btn-primary" onclick="startTestQuestion()">é–‹å§‹æ¸¬é©— (Space/Enter)</button>
            </div>
        </div>

        <div id="view-data" class="view-section">
            <div class="control-panel">
                <h3>è³‡æ–™å‚™ä»½èˆ‡é‚„åŸ</h3>
                <div style="margin: 30px 0;">
                    <button class="action-btn" onclick="exportData()">ä¸‹è¼‰å‚™ä»½ (.json)</button>
                </div>
                <hr style="border:0; border-top:1px solid #eee; margin:20px 0;">
                <div style="margin: 30px 0;">
                    <input type="file" id="file-input" accept=".json">
                    <button class="action-btn" style="color:#2e7d32;" onclick="importData()">åŒ¯å…¥é‚„åŸ</button>
                </div>
                <div style="text-align:right; margin-top:30px;">
                     <button class="action-btn btn-danger" onclick="clearAllData()">æ¸…ç©ºæ‰€æœ‰è³‡æ–™</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        const chars = ['ã„…','ã„†','ã„‡','ã„ˆ','ã„‰','ã„Š','ã„‹','ã„Œ','ã„','ã„','ã„','ã„','ã„‘','ã„’','ã„“','ã„”','ã„•','ã„–','ã„—','ã„˜','ã„™','ã„§','ã„¨','ã„©'];
        const STORAGE_KEY = 'bld_custom_dict_v3';
        const STATUS_KEY = 'bld_status_v1';

        let currentPair = null;
        let isMemAnswerShown = false;
        
        let testStartTime = 0;
        let isWaitingTestNext = true;
        let timerInterval = null;

        function getDict() { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {}; }
        function saveDict(d) { localStorage.setItem(STORAGE_KEY, JSON.stringify(d)); }
        function getStatus() { return JSON.parse(localStorage.getItem(STATUS_KEY)) || {}; }
        function saveStatus(pair, status) {
            const s = getStatus(); s[pair] = status; localStorage.setItem(STATUS_KEY, JSON.stringify(s));
        }

        function init() {
            const listSel = document.getElementById('char-select');
            const memSel = document.getElementById('memory-range');
            const testSel = document.getElementById('test-range');

            chars.forEach(c => {
                let opt1 = document.createElement('option'); opt1.value = c; opt1.innerText = `${c} é–‹é ­`; listSel.appendChild(opt1);
                let opt2 = document.createElement('option'); opt2.value = c; opt2.innerText = `åªç·´ ${c} é–‹é ­`; memSel.appendChild(opt2);
                let opt3 = document.createElement('option'); opt3.value = c; opt3.innerText = `åªç·´ ${c} é–‹é ­`; testSel.appendChild(opt3);
            });

            // ç›£è½è¼¸å…¥æ¡† Enter (æª¢æŸ¥ç­”æ¡ˆ)
            document.getElementById('test-input').addEventListener('keydown', function(e) {
                if(e.key === 'Enter') {
                    // é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œé˜²æ­¢è¢«å…¨åŸŸçš„ Enter ç›£è½å™¨æŠ“åˆ°è€Œç›´æ¥è·³ä¸‹ä¸€é¡Œ
                    e.stopPropagation(); 
                    checkTestAnswer();
                }
            });

            // å…¨åŸŸæŒ‰éµç›£è½ (Space èˆ‡ Enter)
            document.addEventListener('keydown', function(e) {
                const activeTab = document.querySelector('.view-section.active').id;
                
                // Space
                if (e.code === 'Space') {
                    if(document.activeElement === document.getElementById('test-input') && !isWaitingTestNext) return;
                    e.preventDefault();
                    triggerAction(activeTab);
                }

                // Enter (è™•ç† "ä¸‹ä¸€é¡Œ" çš„å‹•ä½œ)
                if (e.key === 'Enter') {
                    // å¦‚æœæ­£åœ¨æ‰“å­—ä¸­ï¼Œä¸è¦è§¸ç™¼é€™å€‹ (å·²ç¶“è¢« stopPropagation æ“‹ä½äº†ï¼Œé€™è£¡æ˜¯é›™é‡ä¿éšª)
                    if(document.activeElement === document.getElementById('test-input') && !isWaitingTestNext) return;
                    
                    e.preventDefault();
                    triggerAction(activeTab);
                }
            });

            renderList();
        }

        function triggerAction(tabId) {
            if(tabId === 'view-memory') {
                if(isMemAnswerShown) nextMemoryCard();
                else toggleMemoryAnswer();
            }
            else if(tabId === 'view-test') {
                if(isWaitingTestNext) startTestQuestion();
            }
        }

        function switchTab(tab) {
            document.querySelectorAll('.view-section').forEach(e => e.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(e => e.classList.remove('active'));
            document.getElementById(`view-${tab}`).classList.add('active');
            
            const btnIndex = {'list':0, 'memory':1, 'test':2, 'data':3};
            document.querySelectorAll('.nav-btn')[btnIndex[tab]].classList.add('active');

            if(timerInterval) clearInterval(timerInterval);
            if(tab === 'list') renderList();
            if(tab === 'memory') nextMemoryCard();
            if(tab === 'test') resetTest();
        }

        // --- 1. åˆ—è¡¨ ---
        function renderList() {
            const startChar = document.getElementById('char-select').value;
            const container = document.getElementById('grid-area');
            const dict = getDict();
            const statusMap = getStatus();

            container.innerHTML = ''; 
            chars.forEach((endChar) => {
                if (startChar === endChar) return; 
                const pair = startChar + endChar;
                
                const div = document.createElement('div');
                div.className = 'pair-item';
                div.innerHTML = `<div class="pair-label">${pair}</div>`;
                
                const input = document.createElement('input');
                input.className = 'pair-input';
                const st = statusMap[pair];
                if(st === 'green') input.classList.add('status-green');
                else if(st === 'yellow') input.classList.add('status-yellow');
                else if(st === 'red') input.classList.add('status-red');
                
                input.value = dict[pair] || "";
                input.addEventListener('input', function() {
                    const d = getDict(); d[pair] = this.value.trim(); saveDict(d);
                });
                input.addEventListener('keydown', function(e) {
                     if (e.key === 'Enter') {
                        e.preventDefault();
                        const all = document.querySelectorAll('#grid-area .pair-input');
                        for(let i=0; i<all.length; i++) {
                            if(all[i]===this && i+1<all.length) { all[i+1].focus(); break; }
                        }
                    }
                });
                div.appendChild(input);
                container.appendChild(div);
            });
        }

        // --- æ–°å¢ï¼šé‡ç½®é¡è‰²åŠŸèƒ½ ---
        function resetAllColors() {
            if(confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰é¡è‰²æ¨™è¨˜å—ï¼Ÿ\n(æ‚¨çš„è©åº«æ–‡å­—ä¸æœƒæ¶ˆå¤±ï¼Œåªæœ‰ç†Ÿç·´åº¦é¡è‰²æœƒæ­¸é›¶)")) {
                localStorage.setItem(STATUS_KEY, JSON.stringify({}));
                renderList();
                alert("é¡è‰²å·²é‡ç½®ï¼");
            }
        }

        // --- 2. è¨˜æ†¶ç¿»ç‰Œ ---
        function nextMemoryCard() {
            const range = document.getElementById('memory-range').value;
            currentPair = getRandomPair(range);
            document.getElementById('mem-q').innerText = currentPair;
            document.getElementById('mem-a').classList.remove('show');
            document.getElementById('mem-hint').innerText = "é»æ“Šå¡ç‰‡ç¿»ç‰Œ";
            isMemAnswerShown = false;
        }

        function toggleMemoryAnswer() {
            if(isMemAnswerShown) return;
            const word = getDict()[currentPair] || "æœªå®šç¾©";
            const el = document.getElementById('mem-a');
            el.innerText = word;
            el.style.color = (word==="æœªå®šç¾©") ? "#999" : "#d32f2f";
            el.classList.add('show');
            document.getElementById('mem-hint').innerText = "æŒ‰ Space/Enter ä¸‹ä¸€é¡Œ";
            isMemAnswerShown = true;
        }

        // --- 3. æ‰“å­—æ¸¬é©— ---
        function startTestQuestion() {
            const dict = getDict();
            const valid = Object.keys(dict).filter(k => dict[k]);
            if(valid.length === 0) return alert("è«‹å…ˆåˆ°åˆ—è¡¨è¼¸å…¥è©å½™ï¼");

            const range = document.getElementById('test-range').value;
            let candidates = (range === 'all') ? valid : valid.filter(p => p.startsWith(range));
            if(candidates.length === 0) return alert("è©²ç¯„åœç„¡è³‡æ–™");

            currentPair = candidates[Math.floor(Math.random() * candidates.length)];
            document.getElementById('test-q').innerText = currentPair;
            
            const inp = document.getElementById('test-input');
            inp.value = '';
            inp.disabled = false;
            inp.focus();
            
            document.getElementById('test-feedback').innerText = '';
            document.getElementById('test-correct-msg').innerText = ''; // æ¸…ç©ºä¸Šä¸€é¡Œç­”æ¡ˆ
            document.getElementById('test-correct-msg').style.backgroundColor = 'transparent';
            document.getElementById('test-btn').innerText = "æäº¤ (Enter)";
            document.getElementById('test-btn').onclick = checkTestAnswer;

            // é‡ç½®è¨ˆæ™‚
            if(timerInterval) clearInterval(timerInterval);
            testStartTime = Date.now();
            updateTimerDisplay(0);
            
            timerInterval = setInterval(() => {
                const now = Date.now();
                const sec = (now - testStartTime) / 1000;
                updateTimerDisplay(sec);
            }, 100);

            isWaitingTestNext = false;
        }

        function updateTimerDisplay(sec) {
            const el = document.getElementById('timer');
            el.innerText = sec.toFixed(1) + "s";
            
            if (sec >= 12) {
                el.style.backgroundColor = '#ffebee';
                el.style.color = '#c62828';
                el.style.borderColor = '#ffcdd2';
            } else if (sec >= 8) {
                el.style.backgroundColor = '#fff3e0';
                el.style.color = '#ef6c00';
                el.style.borderColor = '#ffe0b2';
            } else {
                el.style.backgroundColor = '#f0f0f0';
                el.style.color = '#666';
                el.style.borderColor = 'transparent';
            }
        }

        function checkTestAnswer() {
            if(isWaitingTestNext) return;
            
            clearInterval(timerInterval);
            const endTime = Date.now();
            const duration = (endTime - testStartTime) / 1000;

            const val = document.getElementById('test-input').value.trim();
            const ans = getDict()[currentPair];
            const fb = document.getElementById('test-feedback');
            const ansDisplay = document.getElementById('test-correct-msg');
            
            let st = '', msg = '', cls = '';

            // ç©ºç™½åˆ¤è®€é‚è¼¯
            if(val === '') {
                st = 'red'; msg = `âŒ ç©ºç™½è·³é (è¦–ç‚ºä¸ç†Ÿ)`; cls = 'text-danger';
            } else if(val !== ans) {
                st = 'red'; msg = `âŒ éŒ¯èª¤ï¼ (${duration.toFixed(1)}s)`; cls = 'text-danger';
            } else if(duration > 12) {
                st = 'red'; msg = `â­• æ­£ç¢ºï¼Œä½†å¤ªæ…¢ (>12s)`; cls = 'text-danger';
            } else if(duration > 8) {
                st = 'yellow'; msg = `âš ï¸ å°šå¯ (8-12s)`; cls = 'text-warning';
            } else {
                st = 'green'; msg = `âœ¨ ç†Ÿç·´ï¼ (${duration.toFixed(1)}s)`; cls = 'text-success';
            }

            saveStatus(currentPair, st);
            
            fb.innerText = msg;
            fb.className = 'feedback-area ' + cls;
            
            // --- æ°¸é é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ ---
            ansDisplay.innerText = `æ­£ç¢ºç­”æ¡ˆï¼š${ans}`;
            
            // æ ¹æ“šçµæœçµ¦äºˆèƒŒæ™¯è‰²
            if (st === 'green') {
                ansDisplay.style.color = '#2e7d32';
                ansDisplay.style.backgroundColor = '#e8f5e9';
            } else if (st === 'yellow') {
                ansDisplay.style.color = '#ef6c00';
                ansDisplay.style.backgroundColor = '#fff3e0';
            } else {
                ansDisplay.style.color = '#c62828';
                ansDisplay.style.backgroundColor = '#ffebee';
            }

            document.getElementById('test-input').disabled = true;
            document.getElementById('test-btn').innerText = "ä¸‹ä¸€é¡Œ (Space/Enter)";
            document.getElementById('test-btn').onclick = startTestQuestion;
            isWaitingTestNext = true;
        }

        function resetTest() {
            document.getElementById('test-q').innerText = '?';
            updateTimerDisplay(0);
            document.getElementById('test-feedback').innerText = '';
            document.getElementById('test-correct-msg').innerText = '';
            document.getElementById('test-correct-msg').style.backgroundColor = 'transparent';
            document.getElementById('test-btn').innerText = "é–‹å§‹æ¸¬é©— (Space/Enter)";
            document.getElementById('test-btn').onclick = startTestQuestion;
            if(timerInterval) clearInterval(timerInterval);
            isWaitingTestNext = true;
        }

        function getRandomPair(range) {
            let c1 = (range === 'all') ? chars[Math.floor(Math.random()*chars.length)] : range;
            let c2 = chars[Math.floor(Math.random()*chars.length)];
            while(c1 === c2) c2 = chars[Math.floor(Math.random()*chars.length)];
            return c1 + c2;
        }

        function exportData() {
            const blob = new Blob([JSON.stringify({ dict: getDict(), status: getStatus() })], {type: "application/json"});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; a.download = `bld_backup_${new Date().toISOString().slice(0,10)}.json`;
            document.body.appendChild(a); a.click(); document.body.removeChild(a);
        }

        function importData() {
            const f = document.getElementById('file-input').files[0];
            if(!f) return;
            const r = new FileReader();
            r.onload = (e) => {
                try {
                    const d = JSON.parse(e.target.result);
                    if(d.dict) {
                        localStorage.setItem(STORAGE_KEY, JSON.stringify(d.dict));
                        localStorage.setItem(STATUS_KEY, JSON.stringify(d.status || {}));
                    } else { localStorage.setItem(STORAGE_KEY, JSON.stringify(d)); }
                    alert("åŒ¯å…¥æˆåŠŸ"); renderList();
                } catch(err) { alert("æ ¼å¼éŒ¯èª¤"); }
            };
            r.readAsText(f);
        }

        function clearAllData() {
            if(confirm("ç¢ºå®šæ¸…ç©ºï¼Ÿ")) { localStorage.clear(); renderList(); alert("å·²æ¸…ç©º"); }
        }
    </script>
</body>
</html>